参照leakVal的实现来做系统
